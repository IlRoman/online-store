(this["webpackJsonponline-store"]=this["webpackJsonponline-store"]||[]).push([[0],{181:function(e,t,a){},182:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),i=a.n(c),o=(a(76),a(6)),l=a(7),s=a(3),u=a(33),m=a(68),d=a.n(m),_=function(e){return e.filterText},f=Object(u.a)([function(e){return e.products.products},_],(function(e,t){if(!e)return[];var a=Object(o.a)(e).filter((function(e){return e.title.toLowerCase().indexOf(t.searchQuery.toLowerCase())>=0||e.author.toLowerCase().indexOf(t.searchQuery.toLowerCase())>=0}));switch(t.sortText){case"author":return d()(a,"author","ask");case"all":return a;case"popular":return a.sort((function(e,t){return t.rating-e.rating}));case"expensive":return a.sort((function(e,t){return t.price-e.price}));case"cheap":return a.sort((function(e,t){return e.price-t.price}));default:return a}})),p=Object(u.a)([function(e){return e.cart.items}],(function(e){return e&&0!==e.length?e.reduce((function(e,t){return t.hasOwnProperty("count")?e+t.price*t.count:e+t.price}),0):0})),E=a(69),g=a.n(E),b=(a(181),a(182),a(1)),N=function(e){return{type:"ADD_TO_CART",payload:Object(b.a)({},e)}},v=a(70),h=a.n(v),O={removeFromCart:function(e){return{type:"REMOVE_FROM_CART",payload:e}}},y=Object(s.b)((function(e){return{totalPrice:p(e),count:e.cart.items.length,cart:h()(e.cart.items,(function(e){return e.id}))}}),O)((function(e){var t=e.totalPrice,a=e.count,c=e.cart,i=e.removeFromCart,o=Object(n.useState)(!1),s=Object(l.a)(o,2),u=s[0],m=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header__elem"},"\u0412\u0441\u0435\u0433\u043e: ".concat(t," \u0433\u0440\u043d")),r.a.createElement("div",{className:"cart-button",onClick:function(){m(!u)}},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-cart-arrow-down"})),r.a.createElement("button",{className:"cart-button__elem"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430  (".concat(a,")"))),u&&r.a.createElement("div",{className:"cart-container"},0===c.length?r.a.createElement("h2",null,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"):c.map((function(e){return r.a.createElement("div",{className:"cart-container__elem",key:e.id},r.a.createElement("div",{className:"cart-container__elem_title"},e.title),r.a.createElement("div",{className:"cart-container__elem_count"},e.count),r.a.createElement("button",{className:"cart-container__button",onClick:function(){return i(e.id)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))}))))})),j=function(e){var t=e.isLoggedIn,a=e.login;return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__container"},t?r.a.createElement("button",{className:"header__elem",onClick:a},"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0410\u043a\u043a\u0430\u0443\u043d\u0442\u0430"):r.a.createElement("button",{className:"header__elem",onClick:a},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement(y,null)))},C=(a(192),function(){return r.a.createElement("footer",{className:"footer"})}),T=(a(193),{addToCart:N}),S=Object(s.b)((function(e){return{}}),T)((function(e){var t=e.product,a=e.addToCart,n=e.handleShowDetails;return r.a.createElement("div",{className:"product"},r.a.createElement("div",{className:"product__image-container"},r.a.createElement("img",{src:t.image,alt:t.title,className:"product__image-container_image",onClick:function(){return n(t)}})),r.a.createElement("div",{className:"product__description"},r.a.createElement("div",{className:"product__description_title"},t.title),r.a.createElement("div",{className:"product__description_title"},t.author),r.a.createElement("div",{className:"price-and-rating"},r.a.createElement("div",{className:"product__description_price"},"\u0426\u0435\u043d\u0430: ".concat(t.price)),r.a.createElement("div",{className:"product__description_rating"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433: ".concat(t.rating))),r.a.createElement("button",{className:"product__description_button",onClick:function(){return a(Object(b.a)(Object(b.a)({},t),{},{count:1}))}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443")))})),L=(a(194),function(){var e=document.querySelector(".products-container");e.classList.remove("animation"),e.offsetWidth,e.classList.add("animation")}),w=function(e){var t=e.setSort,a=function(e){L(),t(e)};return r.a.createElement("div",{className:"filter"},r.a.createElement("h2",null,"\u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438"),r.a.createElement("div",{className:"filter__item",onClick:function(){return a("all")}},"\u0412\u0441\u0435"),r.a.createElement("div",{className:"filter__item",onClick:function(){return a("popular")}},"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435"),r.a.createElement("div",{className:"filter__item",onClick:function(){return a("expensive")}},"\u0426\u0435\u043d\u0430 (\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u043e\u0440\u043e\u0433\u0438\u0435)"),r.a.createElement("div",{className:"filter__item",onClick:function(){return a("cheap")}},"\u0426\u0435\u043d\u0430 (\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u0435\u0448\u0435\u0432\u044b\u0435)"),r.a.createElement("div",{className:"filter__item",onClick:function(){return a("author")}},"\u041f\u043e \u0430\u0432\u0442\u043e\u0440\u0443"))},P=(a(195),function(e){var t=e.onPrevPage,a=e.onNextPage,n=e.pageNumber,c=e.filteredProductsList;return r.a.createElement("div",{className:"pagination"},r.a.createElement("button",{className:"pagination__button prev-page",onClick:t,disabled:0===n},r.a.createElement("i",{className:"fas fa-long-arrow-alt-left"})),r.a.createElement("div",{className:"pagination__page-number"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u2116 ".concat(n+1)),r.a.createElement("button",{className:"pagination__button next-page",onClick:a,disabled:6*(n+1)>=c.length},r.a.createElement("i",{className:"fas fa-long-arrow-alt-right"})))}),k=(a(196),function(e){var t=e.login,a=Object(n.useState)(""),c=Object(l.a)(a,2),i=c[0],o=c[1],s=Object(n.useState)(""),u=Object(l.a)(s,2),m=u[0],d=u[1];return r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"form__container"},r.a.createElement("p",{className:"form__container_elem"},"\u041b\u043e\u0433\u0438\u043d"),r.a.createElement("input",{type:"text",className:"form__container_input",placeholder:"\u0412\u0435\u0434\u0438\u0442\u0435 email",onChange:function(e){o(e.target.value)},value:i}),r.a.createElement("p",{className:"form__container_elem"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",{type:"text",className:"form__container_input",placeholder:"\u0412\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){d(e.target.value)},value:m}),r.a.createElement("button",{className:"form__container_button",onClick:t},"\u0412\u043e\u0439\u0442\u0438")))}),I=(a(197),function(e){var t=e.setSearchQuery,a=e.searchQuery;return r.a.createElement("div",{className:"search"},r.a.createElement("input",{className:"search__input",type:"text",placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441...",onChange:function(e){t(e.target.value),L()},value:a}),r.a.createElement("i",{className:"fas fa-search"}))}),x=(a(198),{addToCart:N}),R=Object(s.b)((function(e,t){t.product;return{}}),x)((function(e){var t=e.product,a=e.addToCart,n=(e.addedCount,e.handleShowDetails);return r.a.createElement("div",{className:"details"},r.a.createElement("button",{className:"details__close",onClick:n},r.a.createElement("i",{className:"far fa-times-circle"})),r.a.createElement("div",{className:"details__container"},r.a.createElement("div",{className:"details__container_image"},r.a.createElement("img",{src:t.image,alt:t.title,className:"details__container_image-elem"})),r.a.createElement("div",{className:"details__container_description"},r.a.createElement("div",{className:"details__container_description-title"},t.title),r.a.createElement("div",{className:"details__container_description-author"},t.author))),r.a.createElement("div",{className:"details__container_price-and-rating"},r.a.createElement("div",{className:"details__container_description-price"},"\u0426\u0435\u043d\u0430: ".concat(t.price)),r.a.createElement("div",{className:"details__container_description-rating"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433: ".concat(t.rating))),r.a.createElement("div",{className:"details__container_description-button"},r.a.createElement("button",{className:"details__container_description-button-elem",onClick:a.bind(void 0,Object(b.a)(Object(b.a)({},t),{},{count:1}))},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443")))})),D=(a(199),{setProducts:function(e){return{type:"SET_PRODUCTS",payload:e}},setSort:function(e){return{type:"SET_SORT_TEXT",payload:e}},setSearchQuery:function(e){return{type:"SET_FILTER",payload:e}},changePageNumber:function(e){return{type:"CHANGE_PAGE_NUMBER",payload:e}},login:function(){return{type:"LOGIN"}}}),Q=Object(s.b)((function(e){return{filteredProductsList:f(e),searchQuery:_(e),isLoaded:e.products.isLoaded,pageNumber:e.pageNumber.pageNumber,isLoggedIn:e.isLoggedIn.isLoggedIn}}),D)((function(e){var t=e.setProducts,a=e.pageNumber,c=e.changePageNumber,i=e.setSort,s=e.setSearchQuery,u=e.isLoggedIn,m=e.login,d=e.filteredProductsList,_=e.searchQuery,f=e.addToCart,p=Object(n.useState)(!1),E=Object(l.a)(p,2),b=E[0],N=E[1],v=Object(n.useState)([]),h=Object(l.a)(v,2),O=h[0],y=h[1],T=function(e){N(!b),y(e)};Object(n.useEffect)((function(){g.a.get("/products-list.json").then((function(e){t(e.data)}))}),[]),Object(n.useEffect)((function(){0===Object(o.a)(d).splice(6*a,6).length&&c(0)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{isLoggedIn:u,login:m}),r.a.createElement("main",{className:"main"},b&&r.a.createElement(R,{product:O,handleShowDetails:T}),u?r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"products-container animation"},r.a.createElement("div",{className:"products-container__list"},0===d.length?r.a.createElement("div",{className:"no-results"},"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"):Object(o.a)(d).splice(6*a,6).map((function(e){return r.a.createElement(S,{key:e.id,addToCart:f,product:e,handleShowDetails:T})}))),0!==d.length&&r.a.createElement(P,{onPrevPage:function(){c(a-1),L()},onNextPage:function(){c(a+1),L()},pageNumber:a,filteredProductsList:d})),r.a.createElement("aside",{className:"aside animation"},r.a.createElement(I,{setSearchQuery:s,searchQuery:_.searchQuery}),r.a.createElement(w,{setSort:i}))):r.a.createElement(k,{login:m})),r.a.createElement(C,null))})),A=a(8),F={isLoaded:!1,products:null},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCTS":return Object(b.a)(Object(b.a)({},e),{},{products:t.payload,isLoaded:!0});case"SET_IS_READY":return Object(b.a)(Object(b.a)({},e),{},{isLoaded:t.payload});default:return e}},G={items:[]},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,a=Object(o.a)(e.items);if("ADD_TO_CART"===t.type){var n=e.items.findIndex((function(e){return e.title===t.payload.title}));return-1!==n?(a[n].count+=1,Object(b.a)(Object(b.a)({},e),{},{items:Object(o.a)(a)})):{items:[].concat(Object(o.a)(e.items),[t.payload])}}if("REMOVE_FROM_CART"===t.type){var r=e.items.findIndex((function(e){return e.id===t.payload}));return a[r].count-=1,a[r].count<=0&&(a=a.filter((function(e){return e.id!==t.payload}))),Object(b.a)(Object(b.a)({},e),{},{items:a})}return Object(b.a)({},e)},X={pageNumber:0},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PAGE_NUMBER":return Object(b.a)(Object(b.a)({},e),{},{pageNumber:t.payload});default:return e}},V={isLoggedIn:!1},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return{isLoggedIn:!e.isLoggedIn};default:return e}},J={searchQuery:"",sortText:""},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER":return Object(b.a)(Object(b.a)({},e),{},{searchQuery:t.payload});case"SET_SORT_TEXT":return Object(b.a)(Object(b.a)({},e),{},{sortText:t.payload});default:return e}},W=Object(A.c)({products:M,cart:U,pageNumber:B,isLoggedIn:H,filterText:q}),Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.d,z=Object(A.e)(W,Y(Object(A.a)()));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:z},r.a.createElement(Q,null))),document.getElementById("root"))},71:function(e,t,a){e.exports=a(200)},76:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.234f5d2d.chunk.js.map